"use strict";(self.webpackChunk_webdevstudios_docs=self.webpackChunk_webdevstudios_docs||[]).push([[232],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return c}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},d=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),h=p(n),c=a,m=h["".concat(l,".").concat(c)]||h[c]||u[c]||o;return n?r.createElement(m,s(s({ref:t},d),{},{components:n})):r.createElement(m,s({ref:t},d))}));function c(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,s=new Array(o);s[0]=h;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:a,s[1]=i;for(var p=2;p<o;p++)s[p]=n[p];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},3457:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return l},metadata:function(){return p},toc:function(){return d},default:function(){return h}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),s=["components"],i={title:"WP GraphQL"},l=void 0,p={unversionedId:"learn/wp-graphql",id:"learn/wp-graphql",title:"WP GraphQL",description:"This describes the use of GraphQL and the WP GraphQL plugin.",source:"@site/docs/learn/wp-graphql.md",sourceDirName:"learn",slug:"/learn/wp-graphql",permalink:"/nextjs-wordpress-starter/docs/learn/wp-graphql",editUrl:"https://github.com/WebDevStudios/nextjs-wordpress-starter/blob/main/docs/learn/wp-graphql.md",tags:[],version:"current",lastUpdatedBy:"Greg Rickaby",lastUpdatedAt:1646168973,formattedLastUpdatedAt:"3/1/2022",frontMatter:{title:"WP GraphQL"},sidebar:"tutorialSidebar",previous:{title:"WordPress Theme",permalink:"/nextjs-wordpress-starter/docs/learn/wordpress-theme"},next:{title:"3rd Party Services",permalink:"/nextjs-wordpress-starter/docs/other/3rd-party-services"}},d=[{value:"How is GraphQL Different?",id:"how-is-graphql-different",children:[],level:2},{value:"What is WP GraphQL?",id:"what-is-wp-graphql",children:[],level:2},{value:"Extending WP GraphQL",id:"extending-wp-graphql",children:[],level:2}],u={toc:d};function h(e){var t=e.components,n=(0,a.Z)(e,s);return(0,o.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This describes the use of GraphQL and the ",(0,o.kt)("a",{parentName:"p",href:"https://www.wpgraphql.com/"},"WP GraphQL plugin"),"."),(0,o.kt)("h2",{id:"how-is-graphql-different"},"How is GraphQL Different?"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://graphql.org/"},"GraphQL"),' is an API standard that promotes discoverability and\nefficiency of queries. Instead of a REST API, with different "endpoints" for different\nresources, GraphQL uses a single endpoint and a query contained in the body of the\nrequest.'),(0,o.kt)("p",null,"To get the WordPress post with ID ",(0,o.kt)("inlineCode",{parentName:"p"},"23304"),", you would send a ",(0,o.kt)("inlineCode",{parentName:"p"},"GET")," request to the\nURL ",(0,o.kt)("inlineCode",{parentName:"p"},"/wp-json/wp/v2/posts/23304"),". This would give you a JSON object something\nlike this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": 23304,\n  "date": "2021-03-09T12:00:10",\n  "date_gmt": "2021-03-09T17:00:10",\n  "guid": {\n    "rendered": "https://webdevstudios.com/?p=23304"\n  },\n  "modified": "2021-03-09T15:48:12",\n  "modified_gmt": "2021-03-09T20:48:12",\n  "slug": "next-js-headless-wordpress",\n  "status": "publish",\n  "type": "post",\n  "link": "https://webdevstudios.com/2021/03/09/next-js-headless-wordpress/",\n  "title": {\n    "rendered": "Using Next.js, WebDevStudios Built a 1,000 Page Headless WordPress Website"\n  },\n  "content": {\n    "rendered": "<p>Last spring, I started dabbling with Next.js and it didn\u2019t take long for \u201cdabbling\u201d to turn into, \u201cWhoa! This is awesome!\u201d ...",\n    "protected": false\n  },\n  "excerpt": {\n    "rendered": "<p>Last spring, I started dabbling with Next.js and it didn\u2019t take long for \u201cdabbling\u201d to turn into, \u201cWhoa! This is awesome!\u201d ...",\n    "protected": false\n  },\n  "comment_status": "open",\n  "ping_status": "closed",\n  "sticky": false,\n  "template": "",\n  "format": "standard",\n  "meta": {\n    "spay_email": ""\n  },\n  "categories": [13208, 13213],\n  "tags": [13204],\n  "jetpack_featured_media_url": "",\n  "yoast_head": "\x3c!-- This site is optimized with the Yoast SEO Premium plugin v15.9.2 - https://yoast.com/wordpress/plugins/seo/ --\x3e...\x3c!-- / Yoast SEO Premium plugin. --\x3e",\n  "amp_validity": null,\n  "amp_enabled": true,\n  "_links": {\n    "self": [\n      {\n        "href": "https://webdevstudios.com/wp-json/wp/v2/posts/23304"\n      }\n    ],\n    "wp:term": [\n      {\n        "taxonomy": "category",\n        "embeddable": true,\n        "href": "https://webdevstudios.com/wp-json/wp/v2/categories?post=23304"\n      },\n      {\n        "taxonomy": "post_tag",\n        "embeddable": true,\n        "href": "https://webdevstudios.com/wp-json/wp/v2/tags?post=23304"\n      }\n    ]\n  }\n}\n')),(0,o.kt)("p",null,"Theoretically, this contains all the information that pertains to this page. It also\ncontains a bunch of other data that might not be necessary (even more than is listed\nhere; ",(0,o.kt)("a",{parentName:"p",href:"https://webdevstudios.com/wp-json/wp/v2/posts/"},"check the original"),"). More\nimportantly, while it contains references to other information (like categories),\ngetting any information about that requires another request to another REST endpoint.\nWhile WordPress' API does contain links to those other endpoints, other APIs do not,\nrequiring well-written documentation for the API to be useful."),(0,o.kt)("p",null,"With GraphQL, there is a single endpoint; the API instead relies on queries sent in\nthe body of a ",(0,o.kt)("inlineCode",{parentName:"p"},"POST")," request. To get a little information about the article above\nwould take a query like:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-graphql"},"query MyQuery {\n  postBy(postId: 23304) {\n    databaseId\n    date\n    content(format: RENDERED)\n    title\n    slug\n    categories {\n      nodes {\n        name\n        link\n      }\n    }\n  }\n}\n")),(0,o.kt)("p",null,"This would then return a JSON object formatted like the query:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "postBy": {\n      "databaseId": 23304,\n      "date": "2021-03-09T12:00:10",\n      "content": "<p>Last spring, I started dabbling with Next.js and it didn\u2019t take long for \u201cdabbling\u201d to turn into, \u201cWhoa! This is awesome!\u201d ...",\n      "title": "Using Next.js, WebDevStudios Built a 1,000 Page Headless WordPress Website",\n      "slug": "next-js-headless-wordpress",\n      "categories": {\n        "nodes": [\n          {\n            "name": "Headless CMS",\n            "link": "https://webdevstudios.com/category/headless-cms/"\n          },\n          {\n            "name": "Next.js",\n            "link": "https://webdevstudios.com/category/next-js/"\n          }\n        ]\n      }\n    }\n  }\n}\n')),(0,o.kt)("p",null,"In addition to filtering out unnecessary information, GraphQL also allows\na single query to pull back related information that would otherwise require\nanother API request."),(0,o.kt)("h2",{id:"what-is-wp-graphql"},"What is WP GraphQL?"),(0,o.kt)("p",null,"WP GraphQL is a plugin that creates a GraphQL schema for WordPress. The\nendpoint is ",(0,o.kt)("inlineCode",{parentName:"p"},"/graphql"),"."),(0,o.kt)("p",null,"Because GraphQL is strongly typed, the API is explorable. The WP GraphQL\nplugin comes with ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/graphql/graphiql"},"GraphiQL"),", an\nin-browser explorer that allows exploration of the entire API. You can\nfind it in the WordPress admin screen under GraphQL > GraphiQL IDE."),(0,o.kt)("h2",{id:"extending-wp-graphql"},"Extending WP GraphQL"),(0,o.kt)("p",null,"The WP GraphQL plugin can be extended to show custom post types and\ncustom meta fields. The WordPress Starter already has several plugins\ninstalled to do just this:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Add WPGraphQL SEO (for Yoast SEO)"),(0,o.kt)("li",{parentName:"ul"},"WP GraphQL Gutenberg (adds the full JSON objects for individual blocks)"),(0,o.kt)("li",{parentName:"ul"},"WPGraphQL for Gravity Forms"),(0,o.kt)("li",{parentName:"ul"},"WPGraphQL Tax Query")),(0,o.kt)("p",null,"Information about extending WP GraphQL directly can be found at the\n",(0,o.kt)("a",{parentName:"p",href:"https://www.wpgraphql.com/developer-reference/"},"WP GraphQL developer documentation"),"."))}h.isMDXComponent=!0}}]);